---
layout: post
title:  "Ble开发总结"
date:   2018-04-16 17:48:37 +0800
description:由于项目中使用ble，所以就把自己做项目的学习笔记做个总结。
categories: android
---

正文...
## Ble开发总结
由于项目中使用ble，所以就把自己做项目的学习笔记做个总结。
蓝牙的通信方式和一般的tcp,http，io流的操作方式不太一样。主要是因为蓝牙的功能不像是个通讯方式，而像是个通讯工具。它不仅仅是与对方客户端建立连接，而是获取对方客户端的所有功能。而一般的tcp，http，io等通讯方式只关注通讯，通讯的东西是不关注的。
因此，蓝牙通讯中大部分代码都是处理读写操作以外的事情。比如，处理蓝牙功能支持，扫描蓝牙模块，蓝牙模块支持的操作，然后才是一丢丢的读写代码及数据解析等等。
Android sdk中虽说有ble功能的封装。可由于大部分新手是对蓝牙的总体概念拿不准，导致开发蓝牙困难重重。尤其是，开发过tcp等传统io通讯的程序员，在突然接收到蓝牙通讯时是一脸茫然的。
ble不是一个通讯操作，而是一类通讯设备。这其中有这台设备的使用方法，支持的功能，还有设备的适配。
* 使用方法。首先开启蓝牙设备，然后打开扫描功能。扫描到需要通讯的蓝牙设备，开始连接对方。连接后，获取到蓝牙设备支持的功能。然后获取这个功能的使用方法。而使用方法才是读写数据的各种方式。
* 支持的功能。蓝牙设备是个智能硬件设备，比如血压计，车载OBD，蓝牙电话等。这些功能是由设备厂商所定义的。当然，有些通用的功能也有其通用的定义。比如，蓝牙电话，他的service uuid在android sdk中就可以查出来。
* 设备的适配。蓝牙厂商在制造蓝牙设备时，会实现自己特有的设备。这些设备由其特殊广播记录，也有特有的功能uuid，操作uuid。
